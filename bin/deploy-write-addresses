#!/usr/bin/env bash
set -ex

ADDRESS_DIR=${ADDRESS_DIR:-$PWD/addresses}
mkdir -p $ADDRESS_DIR
BIN_DIR=${BIN_DIR:-$(cd "${0%/*}"&&pwd)}


# Set god address to 0 if not defined
test -z "$GOD_ADDR" && GOD_ADDR="0x00000000000000000000"
source $BIN_DIR/lib/load-addresses
touch "$ADDRESS_DIR/addresses.json"

addAddresses "$ADDRESS_DIR/addresses.json" <<EOF
{
   "DEPLOYER": "$DEPLOYER",
   "APPRAISER": "$APPRAISER",
   "TITLE": "$TITLE",
   "LIGHTSWITCH":"$LIGHTSWITCH",
   "PILE":"$PILE",
   "SHELF":"$SHELF",
   "COLLATERAL":"$COLLATERAL",
   "VALVE": "$VALVE",
   "DESK": "$DESK",
   "RECEPTION":"$RECEPTION",
   "LENDER": "$LENDER",
   "CVTJOIN": "$CVTJOIN",
   "CVTPIP" : "$CVTPIP",
   "NFT_COLLATERAL": "$NFT_COLLATERAL",
   "ADMIT":"$ADMIT",
   "ADMIN":"$ADMIN",
   "SPELL":"$SPELL",
   "CURRENCY":"$CURRENCY"
}
EOF
